import{A as N}from"./AdminLayout-B-IGp6Xp.js";import{r as i,j as e,b as E,a as y}from"./app-BJrvDCdO.js";import{L as S}from"./index-Dtdo69c3.js";import{a as x,s as b}from"./toast-DMRHFPHA.js";/* empty css                      */import{F as f}from"./index.es-0SNogFF4.js";import{a as C,b as F}from"./index-DikOPaW-.js";import"./Sidebar-CUy48KgT.js";import"./index-Chjiymov.js";const M=({experiences:v})=>{const[j,u]=i.useState(v),[d,n]=i.useState(null),[l,m]=i.useState({value:""}),[p,h]=i.useState(!1),w=t=>{n(t.id),m({value:t.value.toString()})},g=async t=>{var a,s;if(!l.value){x("Please enter a value");return}h(!0);try{const{data:r}=await y.patch(`experienceStatuses/${t}`,{value:parseInt(l.value)});u(c=>c.map(o=>o.id===t?{...o,value:r.data.value}:o)),b("Experience updated successfully"),n(null)}catch(r){console.error("Update error:",r);const c=((s=(a=r.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to update experience";x(c)}finally{h(!1)}},k=async t=>{if(confirm("Are you sure you want to delete this experience?"))try{await y.delete(`experience-statuses/${t}`),u(a=>a.filter(s=>s.id!==t)),b("Experience deleted successfully")}catch(a){console.error("Delete error:",a),x("Failed to delete experience")}};return e.jsxs(N,{children:[e.jsx(E,{title:"Experience Status"}),e.jsx(S,{}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Experience Status"})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Experience Level"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Numbers"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d===t.id?e.jsx("input",{type:"number",value:l.value,onChange:a=>m({value:a.target.value}),onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),g(d))},className:"w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",autoFocus:!0}):e.jsx("div",{className:"text-sm text-gray-900 dark:text-white font-semibold",children:t.value})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d===t.id?e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>n(null),className:"px-3 py-1 bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 text-gray-800 dark:text-white rounded-md text-xs",children:"Cancel"}),e.jsx("button",{onClick:()=>g(t.id),disabled:p,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs disabled:opacity-50",children:p?"Saving...":"Save"})]}):e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>w(t),className:"action-button edit-btn",title:"Edit",children:e.jsx(f,{icon:C})}),e.jsx("button",{onClick:()=>k(t.id),className:"action-button delete-btn",title:"Delete",children:e.jsx(f,{icon:F})})]})})]},t.id))})]})})})]})]})};export{M as default};
