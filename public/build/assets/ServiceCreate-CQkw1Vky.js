import{r as u,j as e,a as p}from"./app-fjtTz2h4.js";import{d as b}from"./index-B-WG8qPp.js";import{A as y}from"./AdminLayout-Bpo7sCUK.js";import{L as f}from"./index-CZx9uylL.js";import{s as k,a as j}from"./toast-CZhICbN6.js";/* empty css                      */import"./Sidebar-v-2myCdC.js";const F=()=>{const{data:a,setData:d,reset:x,processing:o,errors:r}=b.useForm({title:"",short_description:"",description:"",icon:"",image:"",is_featured:!1}),[l,c]=u.useState(!1),g=async t=>{var m,n;t.preventDefault(),c(!0);const i=new FormData;Object.keys(a).forEach(s=>{s==="is_featured"?i.append(s,a[s]?"1":"0"):i.append(s,a[s])});try{await p.post(route("services.store"),i,{headers:{"Content-Type":"multipart/form-data"}}),k("Service created successfully!"),x()}catch(s){console.error("Submit error:",s);const h=((n=(m=s.response)==null?void 0:m.data)==null?void 0:n.message)||"Failed to create service";j(h)}finally{c(!1)}};return e.jsxs(y,{children:[e.jsx(f,{}),e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Create New Service"}),e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Image"}),e.jsx("input",{type:"file",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",onChange:t=>d("image",t.target.files[0])}),r.image&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Title*"}),e.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",value:a.title,onChange:t=>d("title",t.target.value),required:!0}),r.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Icon (class or image URL)"}),e.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",value:a.icon,onChange:t=>d("icon",t.target.value)}),r.icon&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.icon})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Short Description"}),e.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",rows:3,value:a.short_description,onChange:t=>d("short_description",t.target.value)}),r.short_description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.short_description})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Description"}),e.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm",rows:6,value:a.description,onChange:t=>d("description",t.target.value)}),r.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.description})]}),e.jsxs("div",{className:"col-span-2 flex items-center",children:[e.jsx("input",{id:"is_featured",type:"checkbox",className:"h-4 w-4 text-indigo-600 border-gray-300 dark:border-gray-600 dark:bg-gray-700 rounded",checked:a.is_featured,onChange:t=>d("is_featured",t.target.checked)}),e.jsx("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Feature this service on homepage"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",disabled:l||o,children:l||o?"Creating...":"Create Service"})})]})]})]})};export{F as default};
