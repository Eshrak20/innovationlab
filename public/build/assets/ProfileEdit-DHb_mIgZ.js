import{A as F}from"./AdminLayout-16zh0mwS.js";import{r as c,j as e,b as S,a as E}from"./app-ByAdp2Te.js";import{L as U}from"./index-jlAGSNPD.js";/* empty css                      */import{s as T,a as L}from"./toast-DpH_NK_S.js";import z from"./ProfileHeader-CPvVPPzG.js";import I from"./ProfilePic-CeoxrsC1.js";import x from"./ProfileSection-BWPKkoz3.js";import p from"./ArrayInputField-BxqoZBLO.js";import"./Sidebar-CUSKDBKr.js";import"./index-B8pHBFZ-.js";const Q=({profile:t})=>{const[s,w]=c.useState({title:(t==null?void 0:t.title)||"",subtitle:(t==null?void 0:t.subtitle)||"",experience_years:(t==null?void 0:t.experience_years)||"",specialization:(t==null?void 0:t.specialization)||"",age:(t==null?void 0:t.age)||"",education:(t==null?void 0:t.education)||"",location:(t==null?void 0:t.location)||"",linkedin:(t==null?void 0:t.linkedin)||"",github:(t==null?void 0:t.github)||"",portfolio_url:(t==null?void 0:t.portfolio_url)||"",profilePhotoPath:(t==null?void 0:t.profilePhotoPath)||null,current_stack:(t==null?void 0:t.current_stack)||"",employment_type:(t==null?void 0:t.employment_type)||"",hourly_rate:(t==null?void 0:t.hourly_rate)||"",bio:(t==null?void 0:t.bio)||""}),[i,g]=c.useState(Array.isArray(t==null?void 0:t.skills)?t.skills:t!=null&&t.skills?JSON.parse(t.skills):[]),[m,h]=c.useState(Array.isArray(t==null?void 0:t.certifications)?t.certifications:t!=null&&t.certifications?JSON.parse(t.certifications):[]),[N,R]=c.useState(Array.isArray(t==null?void 0:t.programming_languages)?t.programming_languages:[]),[v,D]=c.useState(Array.isArray(t==null?void 0:t.tools)?t.tools:[]),[_,H]=c.useState(Array.isArray(t==null?void 0:t.projects)?t.projects:[]),[u,P]=c.useState(null),[y,k]=c.useState(!1),o=a=>{const{name:d,value:l}=a.target;w(r=>({...r,[d]:l}))},f=a=>{P(a)},C=async a=>{var d,l;a.preventDefault(),k(!0);try{const r=new FormData;Object.entries(s).forEach(([n,b])=>{n!=="profilePhotoPath"&&b!==null&&b!==void 0&&r.append(n,b)}),i.forEach(n=>r.append("skills[]",n)),m.forEach(n=>r.append("certifications[]",n)),N.forEach(n=>r.append("programming_languages[]",n)),v.forEach(n=>r.append("tools[]",n)),_.forEach(n=>r.append("projects[]",n)),u&&u instanceof File&&r.append("profilePhotoPath",u);const{data:j}=await E.post(`/profile/${t.id}?_method=PUT`,r,{headers:{"Content-Type":"multipart/form-data"}});console.log(j),T("Profile updated successfully!")}catch(r){console.error("Update error:",r),L(((l=(d=r.response)==null?void 0:d.data)==null?void 0:l.message)||"Failed to update profile")}finally{k(!1)}},A=a=>{if(!a||a.trim().length===0)return"";{const d=a.split(" "),l=d[0].charAt(0).toUpperCase(),r=d[1]?d[1].charAt(0).toUpperCase():"";return l+r}};return e.jsxs(F,{children:[e.jsx(S,{title:"Edit Profile"}),e.jsx(U,{position:"top-right",autoClose:3e3}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow rounded-lg overflow-hidden",children:[e.jsx(z,{title:"Edit Your Profile",description:"Update your professional information"}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-8",children:[e.jsx(I,{fullName:s.title,profilePhoto:u||s.profilePhotoPath,onFileChange:f,getInitials:A}),e.jsxs(x,{title:"Professional Information",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Professional Title*"}),e.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:o,required:!0,className:"mt-1 block w-full dark:text rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Tagline"}),e.jsx("input",{type:"text",id:"subtitle",name:"subtitle",value:s.subtitle,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employment_type",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Designation"}),e.jsx("input",{type:"text",id:"employment_type",name:"employment_type",value:s.employment_type,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"experience_years",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Years of Experience"}),e.jsx("input",{type:"number",id:"experience_years",name:"experience_years",value:s.experience_years,onChange:o,min:"0",max:"50",className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"current_stack",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Current Tech Stack"}),e.jsx("input",{type:"text",id:"current_stack",name:"current_stack",value:s.current_stack,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"specialization",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Specialization"}),e.jsx("input",{type:"text",id:"specialization",name:"specialization",value:s.specialization,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Skills"}),e.jsx(p,{items:i,onAdd:a=>g([...i,a]),onRemove:a=>g(i.filter((d,l)=>l!==a)),placeholder:"Add a new skill (e.g. React, Node.js)"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-200",children:"Certifications"}),e.jsx(p,{items:m,onAdd:a=>h([...m,a]),onRemove:a=>h(m.filter((d,l)=>l!==a)),placeholder:"Add a new certification",buttonText:"Add Certification"})]}),e.jsxs(x,{title:"Personal Information",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"age",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Age"}),e.jsx("input",{type:"number",id:"age",name:"age",value:s.age,onChange:o,min:"18",max:"99",className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"education",className:"block text-sm  font-medium dark:text-gray-200 text-gray-800",children:"Education"}),e.jsx("input",{type:"text",id:"education",name:"education",value:s.education,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Location"}),e.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Professional Bio"}),e.jsx("textarea",{id:"bio",name:"bio",rows:5,value:s.bio,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"Tell us about your professional journey, skills, and achievements..."})]}),e.jsxs(x,{title:"Social Media Information",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"linkedin",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"LinkedIn URL"}),e.jsx("input",{type:"url",id:"linkedin",name:"linkedin",value:s.linkedin,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"https://linkedin.com/in/yourprofile"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"github",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"GitHub URL"}),e.jsx("input",{type:"url",id:"github",name:"github",value:s.github,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"https://github.com/yourusername"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"portfolio_url",className:"block text-sm font-medium dark:text-gray-200 text-gray-800",children:"Portfolio URL"}),e.jsx("input",{type:"url",id:"portfolio_url",name:"portfolio_url",value:s.portfolio_url,onChange:o,className:"mt-1 block w-full rounded-md text-black dark:border-gray-800 border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 border",placeholder:"https://yourportfolio.com"})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsx("button",{type:"submit",disabled:y,className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 transition-colors",children:y?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):"Update Profile"})})]})]})})]})};export{Q as default};
